EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_Microchip_ATmega:ATmega328P-PU U2
U 1 1 60136546
P 5350 3700
F 0 "U2" H 4750 3100 50  0000 R CNN
F 1 "ATmega328P-PU" H 4750 3000 50  0000 R CNN
F 2 "Package_DIP:DIP-28_W7.62mm" H 5350 3700 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/ATmega328_P%20AVR%20MCU%20with%20picoPower%20Technology%20Data%20Sheet%2040001984A.pdf" H 5350 3700 50  0001 C CNN
	1    5350 3700
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal Y1
U 1 1 601409D1
P 2850 5450
F 0 "Y1" V 2804 5581 50  0000 L CNN
F 1 "16MHz" V 2895 5581 50  0000 L CNN
F 2 "" H 2850 5450 50  0001 C CNN
F 3 "~" H 2850 5450 50  0001 C CNN
	1    2850 5450
	0    1    1    0   
$EndComp
$Comp
L Device:C C2
U 1 1 60141EB4
P 3400 5250
F 0 "C2" V 3148 5250 50  0000 C CNN
F 1 "22pF" V 3239 5250 50  0000 C CNN
F 2 "" H 3438 5100 50  0001 C CNN
F 3 "~" H 3400 5250 50  0001 C CNN
	1    3400 5250
	0    1    1    0   
$EndComp
$Comp
L Device:C C3
U 1 1 60143599
P 3400 5650
F 0 "C3" V 3148 5650 50  0000 C CNN
F 1 "22pF" V 3239 5650 50  0000 C CNN
F 2 "" H 3438 5500 50  0001 C CNN
F 3 "~" H 3400 5650 50  0001 C CNN
	1    3400 5650
	0    1    1    0   
$EndComp
Wire Wire Line
	3250 5250 2850 5250
Wire Wire Line
	2850 5250 2850 5300
Wire Wire Line
	2850 5600 2850 5650
Wire Wire Line
	2850 5650 3250 5650
Connection ~ 2850 5250
Connection ~ 2850 5650
Wire Wire Line
	3550 5250 3700 5250
Wire Wire Line
	3700 5250 3700 5450
Wire Wire Line
	3700 5650 3550 5650
Wire Wire Line
	5350 2000 5350 2200
$Comp
L Device:R_Small_US R1
U 1 1 6015CC32
P 2650 3650
F 0 "R1" H 2500 3800 50  0000 L CNN
F 1 "220" V 2550 3550 50  0000 L CNN
F 2 "" H 2650 3650 50  0001 C CNN
F 3 "~" H 2650 3650 50  0001 C CNN
	1    2650 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R2
U 1 1 6015E344
P 2850 3650
F 0 "R2" H 2700 3800 50  0000 L CNN
F 1 "220" V 2750 3550 50  0000 L CNN
F 2 "" H 2850 3650 50  0001 C CNN
F 3 "~" H 2850 3650 50  0001 C CNN
	1    2850 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R3
U 1 1 6015EB62
P 3050 3650
F 0 "R3" H 2900 3800 50  0000 L CNN
F 1 "220" V 2950 3550 50  0000 L CNN
F 2 "" H 3050 3650 50  0001 C CNN
F 3 "~" H 3050 3650 50  0001 C CNN
	1    3050 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:LED_CRGB D1
U 1 1 60170851
P 2850 4050
F 0 "D1" V 2896 3720 50  0000 R CNN
F 1 "LED_CRGB" V 2805 3720 50  0000 R CNN
F 2 "" H 2850 4000 50  0001 C CNN
F 3 "~" H 2850 4000 50  0001 C CNN
	1    2850 4050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2650 3750 2650 3850
Wire Wire Line
	2850 3750 2850 3850
Wire Wire Line
	3050 3750 3050 3850
Text Notes 5450 5400 0    50   ~ 0
NOTE: this should also be pin 22\nTODO: confirm
$Comp
L Device:C C5
U 1 1 6082438E
P 7850 2150
F 0 "C5" V 7700 2150 50  0000 C CNN
F 1 ".1uF" V 7600 2150 50  0000 C CNN
F 2 "" H 7888 2000 50  0001 C CNN
F 3 "~" H 7850 2150 50  0001 C CNN
	1    7850 2150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5350 2000 5450 2000
Wire Wire Line
	5450 2200 5450 2000
Text Notes 2400 5850 0    50   ~ 0
TODO: switch to ceramic resonator?
$Comp
L Connector:Conn_01x06_Male J1
U 1 1 60834ABB
P 8500 1850
F 0 "J1" H 8472 1824 50  0000 R CNN
F 1 "Conn_01x06_Male" H 8472 1733 50  0000 R CNN
F 2 "" H 8500 1850 50  0001 C CNN
F 3 "~" H 8500 1850 50  0001 C CNN
	1    8500 1850
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8300 1650 8200 1650
Wire Wire Line
	8300 1750 8200 1750
Wire Wire Line
	8200 1750 8200 1650
Connection ~ 8200 1650
Wire Wire Line
	8200 1650 7850 1650
Wire Wire Line
	8300 1850 8100 1850
Wire Wire Line
	8100 1850 8100 1550
Text GLabel 6050 4200 2    50   Input ~ 0
RXD
Text GLabel 6050 4300 2    50   Input ~ 0
TXD
Wire Wire Line
	5950 4300 6050 4300
Wire Wire Line
	5950 4200 6050 4200
Text GLabel 8200 1950 0    50   Input ~ 0
RXD
Text GLabel 8200 2050 0    50   Input ~ 0
TXD
Wire Wire Line
	8200 1950 8300 1950
Wire Wire Line
	8200 2050 8300 2050
Text GLabel 2650 3400 1    50   Input ~ 0
RXD
Wire Wire Line
	2650 3400 2650 3550
$Comp
L power:GND #PWR012
U 1 1 60881336
P 7850 1650
F 0 "#PWR012" H 7850 1400 50  0001 C CNN
F 1 "GND" H 7855 1477 50  0000 C CNN
F 2 "" H 7850 1650 50  0001 C CNN
F 3 "" H 7850 1650 50  0001 C CNN
	1    7850 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 608822F9
P 5350 5300
F 0 "#PWR08" H 5350 5050 50  0001 C CNN
F 1 "GND" H 5355 5127 50  0000 C CNN
F 2 "" H 5350 5300 50  0001 C CNN
F 3 "" H 5350 5300 50  0001 C CNN
	1    5350 5300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR03
U 1 1 60882761
P 2850 4400
F 0 "#PWR03" H 2850 4150 50  0001 C CNN
F 1 "GND" H 2855 4227 50  0000 C CNN
F 2 "" H 2850 4400 50  0001 C CNN
F 3 "" H 2850 4400 50  0001 C CNN
	1    2850 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 60882A42
P 3900 5500
F 0 "#PWR05" H 3900 5250 50  0001 C CNN
F 1 "GND" H 3905 5327 50  0000 C CNN
F 2 "" H 3900 5500 50  0001 C CNN
F 3 "" H 3900 5500 50  0001 C CNN
	1    3900 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 4250 2850 4400
Wire Wire Line
	5350 5200 5350 5300
Wire Wire Line
	3700 5450 3900 5450
Wire Wire Line
	3900 5450 3900 5500
Connection ~ 3700 5450
Wire Wire Line
	3700 5450 3700 5650
$Comp
L power:VCC #PWR07
U 1 1 60890492
P 5350 1850
F 0 "#PWR07" H 5350 1700 50  0001 C CNN
F 1 "VCC" H 5365 2023 50  0000 C CNN
F 2 "" H 5350 1850 50  0001 C CNN
F 3 "" H 5350 1850 50  0001 C CNN
	1    5350 1850
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR011
U 1 1 60890B58
P 7850 1550
F 0 "#PWR011" H 7850 1400 50  0001 C CNN
F 1 "VCC" H 7865 1723 50  0000 C CNN
F 2 "" H 7850 1550 50  0001 C CNN
F 3 "" H 7850 1550 50  0001 C CNN
	1    7850 1550
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR02
U 1 1 608902D3
P 2850 3400
F 0 "#PWR02" H 2850 3250 50  0001 C CNN
F 1 "VCC" H 2865 3573 50  0000 C CNN
F 2 "" H 2850 3400 50  0001 C CNN
F 3 "" H 2850 3400 50  0001 C CNN
	1    2850 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 3400 2850 3550
Wire Wire Line
	5350 1850 5350 2000
Connection ~ 5350 2000
Text GLabel 6050 3000 2    50   Input ~ 0
D13
Wire Wire Line
	6050 3000 5950 3000
Text GLabel 3050 3400 1    50   Input ~ 0
D13
Wire Wire Line
	3050 3400 3050 3550
Text GLabel 7600 2150 0    50   Input ~ 0
RESET
Wire Wire Line
	7850 1550 8100 1550
Text GLabel 6050 3100 2    50   Input ~ 0
TOSC1
Text GLabel 6050 3200 2    50   Input ~ 0
TOSC2
Text GLabel 2600 5250 0    50   Input ~ 0
TOSC1
Text GLabel 2600 5650 0    50   Input ~ 0
TOSC2
Wire Wire Line
	2600 5250 2850 5250
Wire Wire Line
	2600 5650 2850 5650
Wire Wire Line
	6050 3100 5950 3100
Wire Wire Line
	6050 3200 5950 3200
Wire Wire Line
	7700 2150 7600 2150
Wire Wire Line
	8000 2150 8300 2150
Wire Wire Line
	6350 3900 6350 4000
Text GLabel 6500 4000 2    50   Input ~ 0
RESET
Wire Wire Line
	6350 3650 6350 3700
$Comp
L power:VCC #PWR09
U 1 1 6089089D
P 6350 3650
F 0 "#PWR09" H 6350 3500 50  0001 C CNN
F 1 "VCC" H 6550 3700 50  0000 C CNN
F 2 "" H 6350 3650 50  0001 C CNN
F 3 "" H 6350 3650 50  0001 C CNN
	1    6350 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R4
U 1 1 60821C2F
P 6350 3800
F 0 "R4" H 6500 3800 50  0000 L CNN
F 1 "10k" H 6650 3800 50  0000 L CNN
F 2 "" H 6350 3800 50  0001 C CNN
F 3 "~" H 6350 3800 50  0001 C CNN
	1    6350 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 4000 6350 4000
Wire Wire Line
	6350 4000 6500 4000
Connection ~ 6350 4000
$Comp
L Regulator_Linear:L7805 U1
U 1 1 601450E2
P 3600 1600
F 0 "U1" H 3600 1842 50  0000 C CNN
F 1 "L7805" H 3600 1751 50  0000 C CNN
F 2 "" H 3625 1450 50  0001 L CIN
F 3 "http://www.st.com/content/ccc/resource/technical/document/datasheet/41/4f/b3/b0/12/d4/47/88/CD00000444.pdf/files/CD00000444.pdf/jcr:content/translations/en.CD00000444.pdf" H 3600 1550 50  0001 C CNN
	1    3600 1600
	1    0    0    -1  
$EndComp
$Comp
L Device:Battery BT1
U 1 1 601473F9
P 2400 1900
F 0 "BT1" H 2508 1946 50  0000 L CNN
F 1 "9v" H 2508 1855 50  0000 L CNN
F 2 "" V 2400 1960 50  0001 C CNN
F 3 "~" V 2400 1960 50  0001 C CNN
	1    2400 1900
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_SPST SW1
U 1 1 60148B24
P 2700 1600
F 0 "SW1" H 2700 1835 50  0000 C CNN
F 1 "SW_SPST" H 2700 1744 50  0000 C CNN
F 2 "" H 2700 1600 50  0001 C CNN
F 3 "~" H 2700 1600 50  0001 C CNN
	1    2700 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 1600 2400 1600
Wire Wire Line
	2400 1600 2400 1700
Wire Wire Line
	2900 1600 3250 1600
Wire Wire Line
	3900 1600 4000 1600
$Comp
L Device:C C1
U 1 1 6014E64E
P 3250 1900
F 0 "C1" V 2998 1900 50  0000 C CNN
F 1 "22pF" V 3089 1900 50  0000 C CNN
F 2 "" H 3288 1750 50  0001 C CNN
F 3 "~" H 3250 1900 50  0001 C CNN
	1    3250 1900
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 6014EECF
P 4000 1900
F 0 "C4" V 3748 1900 50  0000 C CNN
F 1 "22pF" V 3839 1900 50  0000 C CNN
F 2 "" H 4038 1750 50  0001 C CNN
F 3 "~" H 4000 1900 50  0001 C CNN
	1    4000 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 1600 3250 1750
Connection ~ 3250 1600
Wire Wire Line
	3250 1600 3300 1600
Wire Wire Line
	4000 1600 4000 1750
Text Notes 2200 2700 0    50   ~ 0
TODO: swap for lower V\nand ditch 7805
Wire Wire Line
	3600 1900 3600 2200
Wire Wire Line
	3250 2050 3250 2200
Wire Wire Line
	3250 2200 3600 2200
Connection ~ 3600 2200
Wire Wire Line
	3600 2200 4000 2200
Wire Wire Line
	4000 2200 4000 2050
$Comp
L power:GND #PWR01
U 1 1 6087BD8C
P 2400 2250
F 0 "#PWR01" H 2400 2000 50  0001 C CNN
F 1 "GND" H 2405 2077 50  0000 C CNN
F 2 "" H 2400 2250 50  0001 C CNN
F 3 "" H 2400 2250 50  0001 C CNN
	1    2400 2250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 60880E8A
P 3600 2300
F 0 "#PWR04" H 3600 2050 50  0001 C CNN
F 1 "GND" H 3605 2127 50  0000 C CNN
F 2 "" H 3600 2300 50  0001 C CNN
F 3 "" H 3600 2300 50  0001 C CNN
	1    3600 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 2100 2400 2250
$Comp
L power:VCC #PWR06
U 1 1 6088F4CF
P 4250 1500
F 0 "#PWR06" H 4250 1350 50  0001 C CNN
F 1 "VCC" H 4265 1673 50  0000 C CNN
F 2 "" H 4250 1500 50  0001 C CNN
F 3 "" H 4250 1500 50  0001 C CNN
	1    4250 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 1500 4250 1600
Wire Wire Line
	4250 1600 4000 1600
Connection ~ 4000 1600
Wire Wire Line
	3600 2200 3600 2300
$Sheet
S 7750 3100 1000 1200
U 60918984
F0 "keyboard_matrix" 50
F1 "keyboard_matrix.sch" 50
F2 "R1" I L 7750 3250 50 
F3 "R2" I L 7750 3350 50 
F4 "R3" I L 7750 3450 50 
F5 "R4" I L 7750 3550 50 
F6 "C1" I L 7750 3750 50 
F7 "C2" I L 7750 3850 50 
F8 "C3" I L 7750 3950 50 
F9 "C4" I L 7750 4050 50 
F10 "C5" I L 7750 4150 50 
$EndSheet
Text GLabel 6050 4500 2    50   Input ~ 0
D3
Text GLabel 6050 4600 2    50   Input ~ 0
D4
Text GLabel 6050 4700 2    50   Input ~ 0
D5
Text GLabel 6050 4800 2    50   Input ~ 0
D6
Text GLabel 6050 4900 2    50   Input ~ 0
D7
Text GLabel 6050 2500 2    50   Input ~ 0
D8
Text GLabel 6050 2600 2    50   Input ~ 0
D9
Text GLabel 6050 2700 2    50   Input ~ 0
D10
Wire Wire Line
	5950 2500 6050 2500
Wire Wire Line
	6050 2600 5950 2600
Wire Wire Line
	5950 2700 6050 2700
Wire Wire Line
	6050 4400 5950 4400
Wire Wire Line
	5950 4500 6050 4500
Wire Wire Line
	6050 4600 5950 4600
Wire Wire Line
	5950 4700 6050 4700
Wire Wire Line
	6050 4800 5950 4800
Wire Wire Line
	5950 4900 6050 4900
$Comp
L Device:Speaker LS1
U 1 1 6098893A
P 8150 5200
F 0 "LS1" H 8320 5196 50  0000 L CNN
F 1 "Speaker" H 8320 5105 50  0000 L CNN
F 2 "" H 8150 5000 50  0001 C CNN
F 3 "~" H 8140 5150 50  0001 C CNN
	1    8150 5200
	1    0    0    -1  
$EndComp
Text GLabel 7650 3850 0    50   Input ~ 0
D3
Text GLabel 7650 3950 0    50   Input ~ 0
D4
Text GLabel 7650 4050 0    50   Input ~ 0
D5
Text GLabel 7650 4150 0    50   Input ~ 0
D6
Text GLabel 7650 3250 0    50   Input ~ 0
D7
Text GLabel 7650 3750 0    50   Input ~ 0
D2
Text GLabel 7650 3350 0    50   Input ~ 0
D8
Text GLabel 7650 3450 0    50   Input ~ 0
D9
Text GLabel 7650 3550 0    50   Input ~ 0
D10
Wire Wire Line
	7650 3750 7750 3750
Wire Wire Line
	7650 3850 7750 3850
Wire Wire Line
	7650 3950 7750 3950
Wire Wire Line
	7650 4050 7750 4050
Wire Wire Line
	7650 4150 7750 4150
Wire Wire Line
	7650 3250 7750 3250
Wire Wire Line
	7650 3350 7750 3350
Wire Wire Line
	7650 3450 7750 3450
Wire Wire Line
	7650 3550 7750 3550
Text GLabel 6050 2800 2    50   Input ~ 0
D11
Text GLabel 6050 4400 2    50   Input ~ 0
D2
Wire Wire Line
	5950 2800 6050 2800
Text GLabel 7850 5200 0    50   Input ~ 0
D11
Wire Wire Line
	7850 5200 7950 5200
$Comp
L power:GND #PWR010
U 1 1 6083AD09
P 7800 5350
F 0 "#PWR010" H 7800 5100 50  0001 C CNN
F 1 "GND" H 7805 5177 50  0000 C CNN
F 2 "" H 7800 5350 50  0001 C CNN
F 3 "" H 7800 5350 50  0001 C CNN
	1    7800 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 5300 7800 5300
Wire Wire Line
	7800 5300 7800 5350
Text Notes 6350 2800 0    50   ~ 0
TODO: update arduino code to use 11
$EndSCHEMATC
